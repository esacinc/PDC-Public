.filters-wrapper{
	background: transparent;
	box-shadow: none;
	border-radius: 0 0px 0px 0px;
}

$header-height: 128px;
$stateActiveBgColor: #3baae3;

.float-button-right {
  // This fills the remaining space, by using flexbox.
  flex: 1 1 auto;
}

.browse-filter {
	font-family: 'Lato';
	padding-left:0px;
	padding-right: 0px;
	padding-top: 0px;
	padding-bottom: 0px;
}

::ng-deep .mat-expansion-panel {
    .mat-expansion-panel-header {
    padding: 0 16px;
    position: relative;

    .mat-expansion-panel-header-title {
      margin-right: 0;
      display: flex;
      width: 100%;
      flex-direction: row;
      justify-content: space-between;
      align-items: center;

      .panel-title-content {
        display: flex;
        flex: 1;
        align-items: center;
        gap: 8px;

        a.browse-filter-title {
          margin-right: auto;
        }

        button {
          margin-left: 8px;
        }
      }

      .custom-expansion-indicator {
        color: #005083;
        font-size: 18px;
        margin-left: 16px;
        transition: transform 0.3s ease;
      }
    }
  }

  // Rotate icon when panel is expanded
  .mat-expansion-panel.mat-expanded {
    .custom-expansion-indicator {
      transform: rotate(180deg);
    }
  }

  // Additional styling for the expansion panel to ensure proper layering
  ::ng-deep .mat-expansion-panel {
    overflow: visible !important;
    
    &.mat-expanded {
      .mat-expansion-indicator {
        transform: translateY(-50%) scale(1.2) rotate(180deg);
      }
    }
  }

  .mat-expansion-panel-header-title {
    margin-right: 0;
    flex-direction: row-reverse;
    justify-content: flex-start;
    align-items: center;
    gap: 16px;
  }
	border-top: 0px;
}

// White background specifically for nested subfilters (panels within panels)
::ng-deep mat-expansion-panel.sidenavFiltersPanel mat-expansion-panel.sidenavFiltersPanel {
  background-color: white !important;
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
  border-radius: 0 !important;
  
  .mat-expansion-panel-header {
    background-color: white !important;
    border: none !important;
    box-shadow: none !important;
    outline: none !important;
    border-radius: 0 !important;
  }
  
  .mat-expansion-panel-content {
    background-color: white !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
  }
  
  .mat-expansion-panel-body {
    background-color: white !important;
    border: none !important;
    border-radius: 0 !important;
  }
}

.browse-filter .checked-state{
	font-weight: 600;
}

.browse-filter .card-header {
	font-weight: 'regular';
	font-size: 14px;
	background: rgb(120, 167, 192);
	margin-bottom: 0px;
	border-bottom: 0px;
	padding-bottom: 0px;
	border: 1px;
	color: #000000;
	align-items: center;
}

.browse-filter .card-title {
	font-weight: 'regular';
	font-size: 14px;
//	background: #254A61;
	background: rgb(120, 167, 192);
	margin-bottom: 0px;
	border-bottom: 0px;
	padding-bottom: 8px;
	border: 0px;
	color: #000000;
}

//@@@PDC-683 - Add Gene Name filter to Gene filter tab with prepopulated genes list
/* TODO(mdc-migration): The following rule targets internal classes of select that may no longer apply for the MDC version.*/
.mat-select-value-text {
    white-space: pre-wrap!important;
    overflow: scroll!important;
    text-overflow: ellipsis!important;
}
.mat-mdc-select-panel .mat-mdc-option {
	font-size: 12px!important;
    line-height: 2em!important;
    height: 2em!important;
    min-width: 520px!important;
}

.mat-panel-title {
	font-size: 14px;
	font-family: 'Lato';
	background: rgb(120, 167, 192);
	margin-bottom: 0px;
	border-bottom: 0px;
	padding-bottom: 8px;
	border: 0px;
	color: #000000;
}
 .browse-filter .card-body {
 // background: rgb(149, 190, 212);
	background: #FFFFFF;
	padding-top: 0px;
  	padding-left: 0px;
	padding-bottom: 0px;
	//color: #000000;
	 flex:1 1 auto;
}

//@@@PDC-517 styling filter category title and align with reset button
.browse-filter-title{
	color:red !important; /* Match browse-filters-new */
	font-weight: 600;
	font-size: 15px;
	height: 40px;
	line-height: 40px;
	text-decoration: none;
}

.browse-filter-title:hover {
	color: #003d66 !important; /* Darker shade for hover */
}

/* Ensure filter titles in gene filters match browse-filters-new exactly */
.sidenavFiltersPanel .browse-filter-title,
.filter-header .browse-filter-title {
	color: #005083 !important; /* Match browse-filters-new */
	font-weight: 600; /* font-semibold */
	text-decoration: none;
}

.sidenavFiltersPanel .browse-filter-title:hover,
.filter-header .browse-filter-title:hover {
	color: #003d66 !important; /* Darker hover state */
}

/* New styling to match the provided example */
.sidenavFiltersPanel {
	border: 1px solid #e5e7eb; /* border-gray-200 */
	border-radius: 0.375rem; /* rounded */
	margin-bottom: 0.25rem; /* mb-1 */
}

/* Ensure nested expansion panels in Clinical tab extend full width */
::ng-deep .sidenavFiltersPanel .sidenavFiltersPanel {
	width: 100% !important;
	margin-left: 0 !important;
	margin-right: 0 !important;
}

/* Ensure Clinical tab subfilter panels have proper width */
::ng-deep .filter-section .mat-expansion-panel {
	width: 100% !important;
	box-sizing: border-box;
}

/* Ensure subfilter headers extend full width */
::ng-deep .filter-section .mat-expansion-panel-header {
	width: 100% !important;
	padding-left: 0 !important;
	padding-right: 0 !important;
	box-sizing: border-box;
}

/* Ensure subfilter content takes full width */
::ng-deep .filter-section .mat-expansion-panel-body {
	width: 100% !important;
	padding-left: 0 !important;
	padding-right: 0 !important;
	box-sizing: border-box;
}

/* Ensure subfilter mat-lists take full width */
::ng-deep .filter-section .mat-list {
	width: 100% !important;
	padding-left: 0 !important;
	padding-right: 0 !important;
}

/* Ensure subfilter list items take full width */
::ng-deep .filter-section .mat-list-item {
	width: 100% !important;
	padding-left: 12px !important;
	padding-right: 12px !important;
}

/* Hide default Angular Material expansion indicators for all expansion panels */
::ng-deep .mat-expansion-indicator {
	display: none !important;
}

/* Ensure our custom expansion indicators are visible and properly positioned */
.custom-expansion-indicator {
	position: absolute !important;
	right: 8px !important;
	top: 50% !important;
	transform: translateY(-50%) !important;
}

/* Set white background for Clinical tab sub-filters */
::ng-deep .filter-section .mat-expansion-panel-header {
	background-color: #ffffff !important;
}

::ng-deep .filter-section .mat-expansion-panel-header:hover {
	background-color: #f8f9fa !important;
}

.filter-header {
	padding: 0.5rem 1rem; /* px-4 py-2 */
	border-bottom: 1px solid #e5e7eb; /* border-b border-gray-200 */
	background-color: #D4E7F2; /* bg-[#D4E7F2] */
	display: flex;
	align-items: center;
	justify-content: space-between;
}

.filter-toggle-btn, .filter-clear-btn {
	color: #4b5563; /* text-gray-600 */
	padding: 0.25rem 0.5rem; /* px-2 py-1 */
	font-size: 0.875rem; /* text-sm */
	background: none;
	border: none;
	cursor: pointer;
}

.filter-toggle-btn:hover, .filter-clear-btn:hover {
	color: #374151; /* text-gray-800 */
}

.filter-section {
	padding: 0; /* Remove padding to match General filters */
	max-height: 500px;
	overflow-y: auto;
	width: 100% !important;
	box-sizing: border-box;
}

.filter-item {
	margin-bottom: 0.5rem; /* mb-2 */
}

.filter-item.selected {
	background-color: #eff6ff; /* bg-blue-50 */
	border-left: 4px solid #3b82f6; /* border-l-4 border-blue-500 */
	padding-left: 0.5rem; /* pl-2 */
}

.filter-checkbox-container {
	display: flex;
	align-items: center;
}

.filter-checkbox-label {
	display: flex;
	align-items: center;
	cursor: pointer;
}

.more-less-link {
	text-align: right;
	font-size: 0.875rem; /* text-sm */
	color: #4b5563; /* text-gray-600 */
	cursor: pointer;
	font-weight: 700;
}

.more-less-link:hover {
	color: #374151; /* text-gray-800 */
}

.card-list-checkbox-single-ln {
	margin-top: -1.0rem;
	margin-bottom: -1.0rem;
	padding-bottom: 0rem;
	padding-top: -1.0rem;
}

.card-list-checkbox-multi-ln {
	margin-top: -0.8rem;
	margin-bottom: -0.8rem;
	padding-bottom: 0rem;
	padding-top: 0rem;
	height: 40px;
}

.browse-data {
	font-family: 'Lato';
	padding-left:0px;
	padding-right: 0px;
	padding-top: 0px;
	padding-bottom: 0px;
	border-top: 0px;
}

/* .side-bar-tabs ::ng-deep.mat-tab-label{
	min-width: 110px!important;
	padding: 10px!important;
	justify-content: left!important;
} */

::ng-deep .sidenavFiltersPanel .mat-expansion-panel-body {
	padding-left: 0px!important;
	padding-right: 0px!important;
	padding-bottom: 0px!important;
}

::ng-deep .sidenavFiltersPanel .mat-mdc-list-item {
	padding-right: 0px!important;
	height: 35px!important;
	line-height: 100%;
}

// Main expansion panels (Clinical, Treatment, Exposure) - remove rounded corners and box shadow
::ng-deep mat-expansion-panel.sidenavFiltersPanel {
  border-radius: 0 !important;
  box-shadow: none !important;
  border: 1px solid #ccc !important;
}

// Ensure main Clinical tab expansion panels have same padding as General tab
::ng-deep .filter-section > mat-expansion-panel.sidenavFiltersPanel .mat-expansion-panel-header {
  padding: 0 16px !important;
}

// Fix checkbox and text alignment - make them inline
::ng-deep .mat-list-item-content {
  display: flex !important;
  align-items: center !important;
  flex-direction: row !important;
  gap: 8px !important;
  white-space: nowrap !important;
  overflow: visible !important;
}

// Ensure mat-list-item has sufficient width for checkbox and text
::ng-deep .mat-list-item {
  width: 100% !important;
  min-width: 300px !important;
  white-space: nowrap !important;
}

// Prevent text wrapping in the label
::ng-deep .mat-list-item .mat-list-text {
  white-space: nowrap !important;
  overflow: visible !important;
  flex: 1 !important;
}

.mat-expansion-panel-header, .mat-expansion-panel-header:hover{
	background: #D4E7F2 !important;
	padding-right:0px!important;
	border-radius: 0 !important;
	box-shadow: none !important;
}

.mat-expansion-panel-header-title{
	margin-right:0px!important;
}

//@@@PDC-4625: Implement the UI-UX changes to the filter sidebar
//@@@PDC-4871: UI-UX changes for stacking filters & improvements to the menu section
::ng-deep {
	/* TODO(mdc-migration): The following rule targets internal classes of tabs that may no longer apply for the MDC version.*/
	.gene-page .mat-tab-labels {
		display: flex !important;
	}
	/* TODO(mdc-migration): The following rule targets internal classes of tabs that may no longer apply for the MDC version.*/
	.gene-page .mat-tab-label {
		padding: 0px !important;
		// min-width: 120px !important;
		border: 0.5px solid lightgray !important;
		min-width: 102.9px !important;
		//box-shadow: rgb(0 0 0 / 20%) 0 3px 1px -2px , rgb(0 0 0 / 14%) 0 2px 2px 0 , rgb(0 0 0 / 12%) 0 1px 5px 0;
		box-shadow: 0px 2px 3px rgba(0, 0, 0, .25);;
		border-radius: 4px;
		height: 30px !important;
	}
	/* TODO(mdc-migration): The following rule targets internal classes of tabs that may no longer apply for the MDC version.*/
	.side-bar-tabs .mat-tab-label-container {
		text-align: center;
	}
	/* TODO(mdc-migration): The following rule targets internal classes of tabs that may no longer apply for the MDC version.*/
	.gene-page .mat-tab-label-active {
		//background: linear-gradient(to bottom, #f6f7f9 0%, #ebedf0 100%);
		//background-color: #E8E8E8;
		border-bottom: 2px solid #3F51D4 !important;
		font-weight: 700;
	}

	.gene-page .mat-mdc-icon-button {
		width: 15px !important;
	}

	.gene-page .mat-mdc-icon-button i {
		line-height: 20px;
		font-size: 12px;
	}

	.sideBarNavigation .mat-expansion-panel-body {
		padding: 5px !important;
	}

	.sidenavFiltersPanel .selectedFilterDiv {
		background-color: #E8E8E8;
	}

	.card-list div {
		font-size: 14px !important;
	}

	.gene-page .mat-ink-bar {
		visibility: hidden !important;
	}

	@media not all and (min-resolution:.001dpcm)
	{ @supports (-webkit-appearance:none) and (stroke-color:transparent) {
		/* TODO(mdc-migration): The following rule targets internal classes of tabs that may no longer apply for the MDC version.*/
		.gene-page .mat-tab-label-active {
			font-weight: 500 !important;
		}
	}}
	/* TODO(mdc-migration): The following rule targets internal classes of tabs that may no longer apply for the MDC version.*/
	.gene-page .mat-tab-header-pagination.mat-tab-header-pagination-disabled,
	.gene-page .mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination {
    	display: none !important;
	}
}

.filter-section {
	max-height: 500px;
	overflow-y: auto;
}

.browse-filter-clear {
	font-size: 13px !important;
	//margin-right: 10%;
	width: 30% !important;
}

.card-list div {
	font-size: 14px !important;
}



// PDC-620: Make the filter selection tabs along the left side of the window
/* ::ng-deep {
	.sideBarNavigation .mat-tab-label-container {
		display: flex;
		flex-grow: 1;
		overflow: hidden;
		z-index: 1;
		width: 38px;
	}
	.sideBarNavigation .mat-tab-group {
		flex-direction: row;
	}
	.sideBarNavigation .mat-tab-labels {
		flex-direction: column;
		width: 60px;
		height: 540px;
		margin-left: -40px;
	}
	.sideBarNavigation .mat-tab-body-wrapper {
		flex: 1 1 auto;
	}
	.sideBarNavigation .mat-tab-header {
		border-bottom: none;
	}

	.sideBarNavigation .mat-ink-bar {
		height: 100%;
		left: 98% !important;
	}

	.sideBarNavigation .mat-tab-header-pagination {
		display: none !important;
	}

	.sideBarNavigation .mat-tab-group.mat-primary .mat-ink-bar, .mat-tab-nav-bar.mat-primary .mat-ink-bar {
		background-color: #F0F0F0;
	}

	.sideBarNavigation .mat-tab-label-active{
		background-color: #E8E8E8 !important;
		border-radius: 2px;
	}

	.sideBarNavigation .mat-tab-label {
		-ms-transform: rotate(90deg);
		-webkit-transform: rotate(90deg);
		transform: rotate(90deg);
		min-width: 200%;
		border-right: 1px solid #dddddd;
		height: 100%;
		text-transform: uppercase;
		font-weight: bold;
		color: black;
	}

	.sideBarNavigation #mat-tab-label-1-1 {
		min-width: 150px !important;
		padding-top: 50px !important;
	}

	.sideBarNavigation #mat-tab-label-1-0, .sideBarNavigation #mat-tab-label-1-1, .sideBarNavigation #mat-tab-label-1-2,
	.sideBarNavigation #mat-tab-label-1-3,  .sideBarNavigation #mat-tab-label-1-4{
		justify-content: center !important;
		padding-left: 20px !important;
	}

} */

/* Remove background from mat-mdc-card-header browse-filter */
.mat-mdc-card-header.browse-filter {
  background: transparent !important;
  background-color: transparent !important;
  height: 0 !important;
  min-height: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  display: none !important;
}

/* Also remove background from any other mat card headers */
::ng-deep .mat-mdc-card-header {
  background: transparent !important;
  background-color: transparent !important;
  height: 0 !important;
  min-height: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  display: none !important;
}

/* Override browse-filter card-header background */
.browse-filter .card-header,
.browse-filter ::ng-deep .mat-mdc-card-header {
  background: transparent !important;
  background-color: transparent !important;
}

/* Fix checkbox and text alignment */
::ng-deep .mat-list-item {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  gap: 8px !important;
  min-height: 40px !important;
  height: auto !important;
  padding: 8px 0 !important;
}

::ng-deep .mat-list-item-content {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  gap: 8px !important;
  min-height: 32px !important;
  height: auto !important;
  line-height: 1.4 !important;
}

/* Ensure checkbox and text are inline */
.browse-filter mat-list-item {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  min-height: 40px !important;
  height: auto !important;
}

/* Fix text container to prevent cutoff */
.browse-filter mat-list-item div {
  line-height: 1.4 !important;
  min-height: 20px !important;
  height: auto !important;
  display: flex !important;
  align-items: center !important;
}

/* Force checkbox and text to be side by side */
::ng-deep .mat-list-item > * {
  display: inline-block !important;
  vertical-align: middle !important;
}

::ng-deep .mat-list-item p-checkbox {
  display: inline-block !important;
  vertical-align: middle !important;
  margin-right: 8px !important;
}

::ng-deep .mat-list-item div {
  display: inline-block !important;
  vertical-align: middle !important;
}

/* Specific targeting for browse-filter items */
.browse-filter ::ng-deep mat-list-item {
  white-space: nowrap !important;
}

.browse-filter ::ng-deep mat-list-item > * {
  display: inline-block !important;
  vertical-align: middle !important;
}

/* Make filter text larger */
.browse-filter label span {
  font-size: 14px !important;
  font-weight: 400 !important;
  line-height: 1.4 !important;
}

/* Simplify expansion panel interactions */
::ng-deep .mat-expansion-panel-header {
  pointer-events: auto !important;
}

/* Fix nested expansion panels in Clinical tab */
::ng-deep .filter-section .mat-expansion-panel .mat-expansion-panel {
  margin-left: 0 !important;
}

::ng-deep .filter-section .mat-expansion-panel .mat-expansion-panel .mat-expansion-panel-header {
  pointer-events: auto !important;
  position: relative !important;
  z-index: 2 !important;
}

/* Remove any borders/outlines from filter sections */
.filter-sections {
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
}

/* Remove borders from sidenavFiltersPanel */
.sidenavFiltersPanel {
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
}

/* Remove borders from tab navigation */
.border-b.border-gray-200 {
  border-bottom: none !important;
}
